#!/bin/bash
set -e

echo "---------------------------------------------------------------"
echo "Bringing app offline..."
echo "---------------------------------------------------------------"
sudo docker compose down

echo "---------------------------------------------------------------"
echo "Getting changes from git..."
echo "---------------------------------------------------------------"
git pull

echo "---------------------------------------------------------------"
echo "Building and starting app back up..."
echo "---------------------------------------------------------------"
sudo docker compose up --build -d

echo "---------------------------------------------------------------"
echo "App is updated and live!"
echo "---------------------------------------------------------------"